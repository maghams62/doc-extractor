## Files reviewed
- README.md
- QA_REPORT.md
- app/backend/main.py
- app/backend/schemas.py
- app/backend/requirements.txt
- app/backend/automation/fill_form.py
- app/backend/pipeline/ingest.py
- app/backend/pipeline/ocr.py
- app/backend/pipeline/passport.py
- app/backend/pipeline/g28.py
- app/backend/pipeline/normalize.py
- app/backend/pipeline/confidence.py
- app/backend/pipeline/llm_extract.py
- app/backend/pipeline/validate.py
- app/backend/scripts/run_sample.py
- app/backend/scripts/release_smoke.py
- app/backend/tests/conftest.py
- app/backend/tests/test_schema_shape.py
- app/backend/tests/test_ingest_pdf_to_images.py
- app/backend/tests/test_g28_extraction_sample.py
- app/backend/tests/test_passport_mrz_parser.py
- app/backend/tests/test_extract_endpoint_variants.py
- app/backend/tests/test_playwright_fill.py
- app/backend/tests/test_playwright_autofill_no_submit.py
- app/backend/tests/test_repeatability.py
- app/backend/tests/test_release_smoke.py
- app/backend/tests/test_validate_endpoint.py
- app/backend/tests/fixtures/Example_G-28.pdf
- app/backend/tests/fixtures/form.html
- app/backend/pytest.ini
- app/frontend/index.html
- app/frontend/vite.config.js
- app/frontend/package.json
- app/frontend/src/main.jsx
- app/frontend/src/App.jsx
- app/frontend/src/styles.css

## Architecture summary
- FastAPI backend exposes `/extract` (multipart upload) and `/autofill` (JSON) endpoints in `app/backend/main.py`.
- Extraction pipeline:
  - `pipeline/ingest.py` loads PDFs via pdf2image or images via PIL, then `preprocess_image` normalizes for OCR.
  - `pipeline/ocr.py` runs Tesseract OCR and returns text + word boxes.
  - `pipeline/passport.py` attempts MRZ parsing (TD3), falls back to OCR heuristics.
  - `pipeline/g28.py` uses OCR text + label heuristics to extract attorney fields.
  - `pipeline/confidence.py` writes fields plus source/confidence/evidence into `schemas.py` models.
- Automation:
  - `automation/fill_form.py` uses Playwright to navigate to the demo form, fuzzy-match labels, fill fields, and capture trace.
- Release smoke:
  - `scripts/release_smoke.py` runs /extract + /autofill via TestClient and asserts trace, repeatability, and no-submit behavior.
- Frontend:
  - React (Vite) UI in `app/frontend/src/App.jsx` for upload, review/edit, confidence/source/evidence, and autofill.
  - Styling in `app/frontend/src/styles.css`.
- Tests:
  - Unit + integration tests in `app/backend/tests`, including OCR/PDF ingest, MRZ parsing, extract endpoint variants, Playwright autofill, repeatability.

## Risk hotspots
- Network dependencies:
  - Sample G-28 download in scripts (`scripts/run_sample.py`) if local fixtures are missing.
  - Playwright production flow still targets the external form URL by default.
- Optional LLM dependencies:
  - Validation LLM requires `LLM_ENDPOINT` and credentials; otherwise validation remains heuristic-only.
- System dependencies:
  - pdf2image requires Poppler (`pdfinfo`), OCR requires Tesseract; current tests skip on missing deps.
- Extraction robustness:
  - G-28 extraction relies on label heuristics; susceptible to OCR noise/format variations.
  - Passport OCR fallback uses regex heuristics; may miss fields if labels differ.
- Determinism:
  - OCR output and Playwright label matching can vary across environments.
  - MRZ parsing relies on OCR text capture; poor OCR could trigger fallback.
- Error handling:
  - `/extract` catches ingest errors but may still return limited fields without clear user guidance in UI.
